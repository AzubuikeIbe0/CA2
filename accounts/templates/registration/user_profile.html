
{% extends 'base.html' %}
{% block title %}Profile Page{% endblock title %}

{% block content %}
{% load crispy_forms_tags %}

<div class="container-fluid">
    
  <div class="row m-5">  
    <div class="col-md-6 blog-main mtop">
          
            <div class="top-container">
                <div class="p-image"><img src= "{{ user.profile.profile_image.url }}"/></div>
                <div class="ml-3">
                    <h5 class="name">{{ user.profile }}</h5>
                    <p class="mail">{{ user.email }}</p>
                </div>
            </div>

            <div class="middle-container d-flex justify-content-between align-items-center mt-3 p-2">
                <div class="dollar-div px-3">
                    <div class="round-div"><i class="fas fa-phone-volume"></i></div>
                </div>
                <div class="d-flex flex-column text-right mr-2"> <span class="current-balance">DOB</span> <span class="amount">{{ user.profile.dob }}</span> </div>
            </div>
            <div class="middle-container d-flex justify-content-between align-items-center mt-3 p-2">
                <div class="dollar-div px-3">
                    <div class="round-div"><i class="fas fa-edit"></i></div>
                </div>
                <div class="d-flex flex-column text-right mr-2"> <span class="current-balance">Address</span> <span class="amount">{{ user.profile.address }}</span> </div>
            </div>
           
            <div class="middle-container d-flex justify-content-between align-items-center mt-3 p-2">
                <div class="dollar-div px-3">
                    <div class="round-div"><i class="fas fa-link"></i></div>
                </div>
                <div class="d-flex flex-column text-right mr-2"> <span class="current-balance">Phone</span> <span class="amount">{{ user.profile.phone }}</span> </div>
            </div>
            <div class="middle-container d-flex justify-content-between align-items-center mt-3 p-2">
                <div class="dollar-div px-3">
                    <div class="round-div"><i class="far fa-address-card"></i></div>
                </div>
                <div class="d-flex flex-column text-right mr-2"> <span class="current-balance">Email</span> <span class="amount"> {{ user.profile.email }}</span> </div>
            </div>

            
            <div class="recent-border mt-4"> <span class="recent-orders"></span> </div>
             <a href="{% url 'edit_profile' user.profile.pk %}" class="btn btn-primary">Edit Profile</a>

           
     

    </div><!-- /.blog-main -->

    <aside class="col-md-6 blog-sidebar border-left">

    <div class="my-3 p-3 bg-white rounded shadow-sm">
        <h1 class="border-bottom border-gray pb-2 mb-0">
        Your Order History</h1> 
    <div class="media text-success pt-3">
        {% if order_details %}
      <svg class="bd-placeholder-img mr-2 rounded" width="32" height="32" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: 32x32" preserveAspectRatio="xMidYMid slice" focusable="false"><title>Placeholder</title><rect width="100%" height="100%" fill="#007bff"/><text x="50%" y="50%" fill="#007bff" dy=".3em">32x32</text></svg>

      <p class="media-body pb-3 mb-0 small lh-125 border-bottom border-gray">
        <strong class="d-block text-success">@username</strong>
        Playing ping pong all night long, everything's all neon and hazy. Yeah, she's so in demand. She's sweet as pie but if you break her heart. But down to earth. It's time to face the music I'm no longer your muse. I guess that I forgot I had a choice.
      </p>
      <table class="table table-striped">
        <thead>
            <tr>
                <th>Order Number</th>
                <th>Order Date</th>
                <th>Total Amount</th>
                <th>Status</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody>
            {% for order in order_details %}
            <tr>
                <td>{{ order.id }}</td>
                <td>{{ order.created|date:"d M Y" }}</td>
                <td>{{ order.total }}</td>
                <td><i class="fas fa-check"></i>&nbsp;Complete</td>
                <td><a href="{% url 'order:order_detail' order.id %} ">View order</a></td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
      {% else %}
        <p>
            You have not placed any orders yet.
            <br>
            <br>
            <a href="{% url 'shop:allProdCat' %}" class="btn btn-secondary">Continue shopping</a>
        </p>
        {% endif %}
    </div>
    <small class="d-block text-right mt-3">
      <a href="#">All updates</a>
    </small>
  </div>
     
    </aside><!-- /.blog-sidebar -->

  </div><!-- /.row -->

</div><!-- /.container -->



{% endblock content %}

